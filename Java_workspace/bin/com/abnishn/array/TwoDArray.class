e.key.name?"constructor":"method",id:e.key};case"VariableDeclarator":return{type:"FunctionExpression"===(null===(r=e.init)||void 0===r?void 0:r.type)||"ArrowFunctionExpression"===(null===(n=e.init)||void 0===n?void 0:n.type)?"function":"variable",id:e.id}}})(e);"Identifier"===(null===(t=null==r?void 0:r.id)||void 0===t?void 0:t.type)&&i.push({label:r.id.name,type:r.type,sortText:r.id.name})}});const s=e.expression.slice(u.getStart(r),n),a=[...i,...await this.defaultCompletions(e,s)];return this.evaluator.hasReturnValue&&void 0!==e.executionContextId&&p.returnValueStr.startsWith(s)&&a.push({sortText:`~${p.returnValueStr}`,label:p.returnValueStr,type:"variable"}),a}async propertyAccessCompleter(e,t,r){const{result:n,isArray:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:u.getText(e.expression,t.object),prefix:s.isDummy(t.property)?"":e.expression.slice(u.getStart(t.property),r),throwOnSideEffect:h(t)}),o=u.getStart(t.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(const e of n)a.test(e.label)||(e.text=`[${JSON.stringify(e.label)}]`,e.start=o,e.length=1);if(i){const e="index";n.unshift({label:`[${e}]`,text:`[${e}]`,type:"property",sortText:"~~[",start:o,selectionStart:1,selectionLength:e.length,length:1})}return n}async completePropertyAccess({executionContextId:e,stackFrame:t,expression:r,prefix:n,isInGlobalScope:i=!1,throwOnSideEffect:s=!1}){const o={expression:`(${r})`,objectGroup:"console",silent:!0,thr