(e).ansi256().object().ansi256}catch(e){}}t.formatMessage=function(e,t,r){const n=function(e,t){if(!e.includes("%"))return[{type:"string",value:e}];const r=[];function n(e){if(!e)return;const t=r[r.length-1];"string"===(null==t?void 0:t.type)?t.value+=e:r.push({type:"string",value:e})}function i(e,t,n){r.push({type:"specifier",specifier:e,precision:t,substitutionIndex:n})}let s=0,o=0;const a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${t.join("")}])`,"g");for(let t=a.exec(e);t;t=a.exec(e)){const r=t.index;if(r>s&&n(e.substring(s,r)),"%%"===t[0])n("%");else{const[,e,r,n]=t;e&&Number(e)>0&&(o=Number(e)-1),i(n,r?Number(r):void 0,o),++o}s=r+t[0].length}return n(e.substring(s)),r}(e,Array.from(r.keys())),i=new Set,o=r.get("");if(!o)throw new Error("Expected to hav a default formatter");const a=new s.BudgetStringBuilder(1e4);let c=!1;for(let e=0;a.checkBudget()&&e<n.length;++e){const s=n[e];if("string"===s.type){a.append(s.value);continue}const u=s.substitutionIndex;if(u>=t.length){a.append("%"+(s.precision||"")+s.specifier);continue}i.add(u),"c"===s.specifier&&(c=!0);const l=r.get(s.specifier)||o;a.append(l(t[u],{budget:a.budget(),quoted:!1}))}c&&a.append("[0m");for(let r=0;a.checkBudget()&&r<t.length;++r)i.has(r)||(i.add(r),(e||r)&&a.append(" "),a.append(o(t[r],{budget:a.budget(),quoted:!1})));return{result:a